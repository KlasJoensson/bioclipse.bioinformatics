<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

   <extension
         point="net.bioclipse.scripting.contribution">
      <scriptContribution
         id="net.bioclipse.align.kalign.ws.business.KalignManager"
         service="net.bioclipse.align.kalign.ws.business.KalignManagerFactory">
      </scriptContribution>
   </extension>
   
      <extension point="org.eclipse.core.expressions.definitions">
      <definition id="net.bioclipse.definitions.activeAlignmentEditor">
         <with variable="activeEditorId">
            <equals value="net.bioclipse.biojava.ui.editors.AlignmentEditor" />
         </with>
      </definition>
   </extension>
   

  <extension point="org.eclipse.ui.menus">
     <menuContribution
         locationURI="toolbar:net.bioclipse.biojava.ui.editor.toolbar?after=additions">
         
          <command commandId="net.bioclipse.align.kalign.ws.Align"
                   tooltip="Align"
                   icon="icons/sequence4.gif">
            <visibleWhen>
              <reference
                definitionId="net.bioclipse.definitions.activeAlignmentEditor">
              </reference>
            </visibleWhen>
          </command> 
         
     </menuContribution>
  </extension>
  
    <extension point="org.eclipse.ui.commands">
    <command id="net.bioclipse.align.kalign.ws.Align"
             description="Align sequences using KAlign Web service at EBI"
             name="Align using KAlign">
    </command>
  </extension>

  <extension point="org.eclipse.ui.handlers">
    <handler class="net.bioclipse.align.kalign.ws.handlers.AlignHandler"
            commandId="net.bioclipse.align.kalign.ws.Align">
    </handler>
  </extension>
  


</plugin>
